<% include ../partials/header %>
<br>

<h1 class="text-center">Product</h1>
<div class="row">
  <div class="col-12">
    <div id="custom-search-input">
      <div class="input-group">
        <input type="text" id="myInput" class="search-query form-control" placeholder="Search.." />
        <span class="input-group-btn">
          <button type="button" disabled>
            <span class="fa fa-search"></span>
          </button>
        </span>
      </div>
    </div>
  </div>
</div>
<br>

<table class="table table-bordered">
  <thead class="thead-dark">
    <tr style="text-align:center;">
      <th>ID</th>
      <th>Title</th>
      <th>Price</th>
      <th><a name="" id="" class="btn btn-success" href="/products/addnewform" role="button">Add new</a></th>
    </tr>
  </thead>

  <tbody id="Sproduct">
    <% products.forEach(function(product){ %>
    <tr class="text-center" style="background-color:rgb(174, 236, 231)">
      <td scope="row">
        <%= product.id %>
      </td>
      <td>
        <%= product.title %>
      </td>
      <td>$
        <%= product.price %>
      </td>
      <td style="text-align: center;"><a class="btn btn-primary" href="/products/<%=product.id%>" role="button">Edit</a>
        <a class="btn btn-danger" href="/products/delete/<%=product.id%>" onclick="return confirm('Are You Sure you want to Delete ? \nPlease Confirm this')"
          role="button">Delete</a>
      </td>
    </tr>
    <% }) %>
  </tbody>

</table>

<script>
  $(document).ready(function () {
    $("#myInput").on("keyup", function () {
      var value = $(this).val().toLowerCase();
      $("#Sproduct tr").filter(function () {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });
  });
</script>


<% include ../partials/footer %>