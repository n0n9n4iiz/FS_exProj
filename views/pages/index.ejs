<% include ../partials/header %>
<h2 style="text-align: center;">Menu</h3>
 <div id="menu">
     <div class="jumbotron" style="margin-top: 30px">
        <h4>List type</h4>
         <hr class="my-2">
         <a href="/products"><p>• Product</p></a>
         <a href="/users"><p>• User</p></a>
         <h4>Report</h4>
         <hr class="my-2">
         <a href="/report/productPurchaser"><p>• TOP 25 Buyer with the most purchased</p></a>
         <a href="/report/productPurchases"><p>• Product with the most sold</p></a>
          <p class="lead">
             <a class="btn btn-primary btn-lg" href="/about" role="button">About</a>
          </p>
     </div>
    </div>
<script>
function getdata(){
 var output = 
    
    '<table class="table">'+
            '<thead>'+
                '<tr class="row" style="text-align:center;">'+
                    '<th class="col-3 col-sm-3 ">ID</th>'+
                    '<th class="col-3 col-sm-3">Title</th>'+
                    '<th class="col-3 col-sm-3">Price</th>'+
                    '<th class="col-3 col-sm-3"><a name="" id="" class="btn btn-primary" href="/products/addnewform" role="button">Add new</a></th>'+
                    '</tr>'+
            '</thead>'+
            '<tbody id="Sproduct">'+
            '<% products.forEach(function(product){ %>'+
              '<tr class="row" style="text-align:center;">'+
                    '<td scope="row" class="col-sm-3 col-3"><%= product.id %></td>'+
                    '<td class="col-sm-3 col-3"><%= product.title %></td>'+
                    '<td class="col-sm-3 col-3">$<%= product.price %></td>'+
                    '<td class="col-sm-3 col-3" style="text-align: center;"><a class="btn btn-primary" href="/products/<%=product.id%>" role="button">Edit</a>'+
                        '<!-- Button trigger modal -->'+
        '<a href="<%=product.id%>"> <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal"   >'+
                'Delete'+
              '</button></a>'+
              '<!-- Modal -->'+
              '<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">'+
                '<div class="modal-dialog" >'+
                  '<div class="modal-content">'+
                    '<div class="modal-header">'+
                      '<h5 class="modal-title" id="exampleModalLabel">Confirm delete</h5>'+
                      '<button type="button" class="close" data-dismiss="modal" aria-label="Close">'+
                        '<span aria-hidden="true">&times;</span>'+
                      '</button>'+
                    '</div>'+
                    '<div class="modal-body">'+
                     '...'+
                    '</div>'+
                    '<div class="modal-footer">'+
                      '<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>'+
                     '<a class="btn btn-primary" href="/products/delete/<%= product.id%>" role="button">Delete</a>'+
                    '</div>'+
                  '</div>'+
                '</div>'+
              '</div>'+
                    
                '</td>'+
              '</tr>'+
            '<% }) %>'+
            '</tbody>'+
        
            '<thead>'+
                    '<tr style="text-align:center">'+
                        '<th>ID</th>'+
                        '<th>Email</th>'+
                        '<th>Password</th>'+
                    '</tr>'+
                '</thead>'+
            
                '<tbody id="Susers">'+
                '<% users.forEach(function(user){ %>'+
                  '<tr style="text-align:center">'+
                        '<td scope="row"><%=user.id%></td>'+
                        '<td><%=user.email%></td>'+
                        '<td>$<%=user.password%></td>'+
                    '</tr>'+
                '<% }) %>'+
                '</tbody>'+
        '</table>';
    document.getElementById("menu").innerHTML = output;
                  }
    </script>
<% include ../partials/footer %>